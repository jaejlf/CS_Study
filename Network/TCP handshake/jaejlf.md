# π“ Handshake

- μƒλ€λ°©κ³Ό μ—°κ²° μƒνƒλ¥Ό μƒμ„±ν•κ³ , ν•΄μ ν•κΈ° μ„ν•΄ κ±°μΉλ” κ³Όμ •
- **3-way Handshake** : μ—°κ²°μ„ μƒμ„±ν•λ” κ³Όμ •
- **4-way Handshake** : μ—°κ²°μ„ ν•΄μ ν•λ” κ³Όμ •

<br><br>

# π“ TCP 3-way Handshake

- TCP ν†µμ‹ μ„ μ΄μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° μ„ν•΄ μ—°κ²°μ„ μƒμ„±ν•λ” κ³Όμ •
- λ³Έκ²©μ μΌλ΅ μ—°κ²°μ„ λ§ΊκΈ° μ „, μ„λ΅ TCP μ—°κ²°μ„ μ”μ²­/μλ½ν•λ” μ¤€λΉ„ κ³Όμ •

<br>

## κ³Όμ •

![image](https://user-images.githubusercontent.com/78673570/184526650-4a9c69c7-0e21-479e-91fd-37004407e3cf.png)

\# **CLOSED** - μ•„λ¬΄λ° μ—°κ²°λ„ μ—†λ” μƒνƒ

\# **LISTEN** - μ„λ²„κ°€ μ—°κ²° μ”μ²­μ„ κΈ°λ‹¤λ¦¬κ³  μλ” μƒνƒ


1οΈβƒ£ **SYN** - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ ‘μ†μ„ μ”μ²­ν•λ” `SYN ν¨ν‚·` μ „μ†΅

2οΈβƒ£ **ACK + SYN** - μ”μ²­μ„ λ°›μ€ μ„λ²„λ” μ ‘μ†μ„ μλ½ν•λ‹¤λ” `ACK ν¨ν‚·`κ³Ό, `SYN ν¨ν‚·` μ „μ†΅

3οΈβƒ£ **ACK** - μ„λ²„λ΅λ¶€ν„° μ—°κ²° μλ½μ„ λ°›μ€ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² μµμΆ…μ μΌλ΅ `ACK ν¨ν‚·` μ „μ†΅

\# **ESTABLISHED** - μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ°›μ€ `ACK ν¨ν‚·`μ„ ν™•μΈ ν›„, λ¬Έμ κ°€ μ—†λ‹¤κ³  νλ‹¨λλ©΄ `ESTABLISHED` μƒνƒλ΅ λ“¤μ–΄κ°.

<br>

=> μ—¬κΈ°κΉμ§€μ κ³Όμ •μ΄ μ™„λ£λλ©΄, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” μ•μ „ν•κ³  μ‹ λΆ°μ„±μλ” μ—°κ²°μ΄ μƒμ„±λμ—λ‹¤κ³  νλ‹¨ν•μ—¬ λ³Έκ²©μ μΈ ν†µμ‹ μ„ μ‹μ‘ν•  μ μλ‹¤.


<br><br>

# π“ TCP 4-way Handshake

- μ—°κ²°μ„ ν•΄μ ν•λ” κ³Όμ •
- ν• μ½μ—μ„ μΌλ°©μ μΌλ΅ μ—°κ²°μ„ λμ–΄λ²„λ¦¬λ©΄, λ‹¤λ¥Έ ν• μ½μ€ μ—°κ²°μ΄ λμ–΄μ΅λ”μ§€ μ• λ°©λ²•μ΄ μ—†κΈ° λ•λ¬Έμ— μ–‘ μ½μ΄ λ‹¤ μ •μƒμ μΌλ΅ μ—°κ²°μ„ μΆ…λ£ν•  μ¤€λΉ„κ°€ λμ—λ”μ§€ ν™•μΈν•λ” κ³Όμ •

<br>

## κ³Όμ •

![image](https://user-images.githubusercontent.com/78673570/184526806-d8fb3d29-17b6-4ba3-9a0a-dba73b27c67e.png)

\# **ESTABLISHED** - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ—°κ²°λμ–΄μλ” μƒνƒ

1οΈβƒ£ **FIN** - ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² μ—°κ²° ν•΄μ λ¥Ό μ”μ²­ν•λ” `FIN ν¨ν‚·` μ „μ†΅

2οΈβƒ£ **ACK**

- μ„λ²„μ **CLOSED_WAIT** - μ”μ²­μ„ λ°›μ€ μ„λ²„λ” ν™•μΈν–λ‹¤λ” `ACK ν¨ν‚·`μ„ μ „μ†΅ν•κ³ , λ‚¨μ€ λ°μ΄ν„°κ°€ μλ‹¤λ©΄ λ§μ € μ „μ†΅
- ν΄λΌμ΄μ–ΈνΈμ **FIN_WAIT_2** - μ„λ²„λ΅λ¶€ν„° λ°›μ€ `ACK ν¨ν‚·`μ„ ν™•μΈν•κ³ , μ„λ²„κ°€ λ‚¨μ€ λ°μ΄ν„° μ²λ¦¬λ¥Ό λλ‚΄κ³  μ—°κ²° μΆ…λ£λ¥Ό μλ½ν•λ” `FIN ν¨ν‚·`μ„ λ³΄λ‚΄μ¤„ λ•κΉμ§€ λ€κΈ°

3οΈβƒ£ **FIN** - μ„λ²„κ°€ λ‚¨μ€ λ°μ΄ν„° μ²λ¦¬λ¥Ό λλƒλ‹¤λ©΄, μ—°κ²° μΆ…λ£λ¥Ό μλ½ν•λ” `FIN ν¨ν‚·`μ„ μ „μ†΅

4οΈβƒ£ **ACK** - ν΄λΌμ΄μ–ΈνΈλ” `FIN ν¨ν‚·`μ„ λ°›κ³ , μ„λ²„μ—κ² ν™•μΈν–λ‹¤λ” `ACK ν¨ν‚·`μ„ μ „μ†΅ν•κ³ , `TIME_WAIT` μƒνƒλ΅ κΈ°λ‹¤λ¦°λ‹¤.

\# **CLOSED** - μ„λ²„λ” `ACK ν¨ν‚·`μ„ μ „λ‹¬λ°›μ€ μ΄ν›„ μ—°κ²°μ„ λ‹«λ”λ‹¤.

\# **CLOSED** - `TIME_WAIT` μ‹κ°„μ΄ λλ‚λ©΄ ν΄λΌμ΄μ–ΈνΈλ„ μ—°κ²°μ„ λ‹«λ”λ‹¤.
